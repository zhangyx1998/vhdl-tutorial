<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>2:1 Mux | VHDL Tutorial</title>
    <meta name="description" content="Quickly get started with VHDL language">
    <link rel="stylesheet" href="/vhdl-tutorial/assets/style.e8c23c51.css">
    <link rel="modulepreload" href="/vhdl-tutorial/assets/app.5caad1d2.js">
    <link rel="modulepreload" href="/vhdl-tutorial/assets/combinational_mux_2x1.md.add17af1.lean.js">
    
    <link rel="icon" type="image/png" href="/vhdl-tutorial/icon.png">
  <meta property="og:type" content="website">
  <meta property="og:title" content="VHDL Tutorial">
  <meta property="og:image" content="/icon.png">
  <meta property="og:url" content="https://gstitt.ece.ufl.edu/">
  <meta property="og:description" content="Yet Another VHDL Tutorial">
  <meta name="theme-color" content="#646cff">
  <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance"),a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-3ff9331b><!--[--><!--]--><!--[--><span tabindex="-1" data-v-f637ee78></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-f637ee78> Skip to content </a><!--]--><!----><header class="VPNav" data-v-3ff9331b data-v-863eec2a><div class="VPNavBar has-sidebar" data-v-863eec2a data-v-fb57374e><div class="container" data-v-fb57374e><div class="VPNavBarTitle has-sidebar" data-v-fb57374e data-v-aaed7263><a class="title" href="/vhdl-tutorial/" data-v-aaed7263><!--[--><!--]--><!--[--><img class="VPImage logo" src="/vhdl-tutorial/icon.png" data-v-d6e8f4d1><!--]--><!--[-->VHDL Tutorial<!--]--><!--[--><!--]--></a></div><div class="content" data-v-fb57374e><!--[--><!--]--><!----><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-fb57374e data-v-d8cdd395><span id="main-nav-aria-label" class="visually-hidden" data-v-d8cdd395>Main Navigation</span><!--[--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-d8cdd395 data-v-aeb1c475><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-aeb1c475><span class="text" data-v-aeb1c475><!----> Basics <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-aeb1c475><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-aeb1c475><div class="VPMenu" data-v-aeb1c475 data-v-079aa243><div class="items" data-v-079aa243><!--[--><!--[--><div class="VPMenuLink" data-v-079aa243 data-v-d3c02515><a class="VPLink link" href="/vhdl-tutorial/combinational/README.html" data-v-d3c02515 data-v-97a44ddd><!--[-->Combinational Logic<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-079aa243 data-v-d3c02515><a class="VPLink link" href="/vhdl-tutorial/structural/README.html" data-v-d3c02515 data-v-97a44ddd><!--[-->Structural Logic<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-079aa243 data-v-d3c02515><a class="VPLink link" href="/vhdl-tutorial/sequential/README.html" data-v-d3c02515 data-v-97a44ddd><!--[-->Sequential Logic<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-d8cdd395 data-v-aeb1c475><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-aeb1c475><span class="text" data-v-aeb1c475><!----> Advanced <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-aeb1c475><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-aeb1c475><div class="VPMenu" data-v-aeb1c475 data-v-079aa243><div class="items" data-v-079aa243><!--[--><!--[--><div class="VPMenuLink" data-v-079aa243 data-v-d3c02515><a class="VPLink link" href="/vhdl-tutorial/fsm/README.html" data-v-d3c02515 data-v-97a44ddd><!--[-->Finite-State Machines<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-079aa243 data-v-d3c02515><a class="VPLink link" href="/vhdl-tutorial/fsmd/README.html" data-v-d3c02515 data-v-97a44ddd><!--[-->Finite-State Machines + Datapaths<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-d8cdd395 data-v-aeb1c475><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-aeb1c475><span class="text" data-v-aeb1c475><!----> Extras <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-aeb1c475><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-aeb1c475><div class="VPMenu" data-v-aeb1c475 data-v-079aa243><div class="items" data-v-079aa243><!--[--><!--[--><div class="VPMenuLink" data-v-079aa243 data-v-d3c02515><a class="VPLink link" href="/vhdl-tutorial/404.html" data-v-d3c02515 data-v-97a44ddd><!--[-->misc (TBD)<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-079aa243 data-v-d3c02515><a class="VPLink link" href="/vhdl-tutorial/404.html" data-v-d3c02515 data-v-97a44ddd><!--[-->testbenches (TBD)<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-fb57374e data-v-d70ebc80><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" data-v-d70ebc80 data-v-a471238a data-v-e9a46395><span class="check" data-v-e9a46395><span class="icon" data-v-e9a46395><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-a471238a><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-a471238a><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-fb57374e data-v-6a2a6555 data-v-b8f6762d><!--[--><a class="VPSocialLink" href="https://github.com/ARC-Lab-UF/vhdl-tutorial/" target="_blank" rel="noopener" data-v-b8f6762d data-v-179ad0ea><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-fb57374e data-v-f53bea1d data-v-aeb1c475><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-aeb1c475><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-aeb1c475><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-aeb1c475><div class="VPMenu" data-v-aeb1c475 data-v-079aa243><!----><!--[--><!--[--><!----><div class="group" data-v-f53bea1d><div class="item appearance" data-v-f53bea1d><p class="label" data-v-f53bea1d>Appearance</p><div class="appearance-action" data-v-f53bea1d><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" data-v-f53bea1d data-v-a471238a data-v-e9a46395><span class="check" data-v-e9a46395><span class="icon" data-v-e9a46395><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-a471238a><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-a471238a><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><div class="group" data-v-f53bea1d><div class="item social-links" data-v-f53bea1d><div class="VPSocialLinks social-links-list" data-v-f53bea1d data-v-b8f6762d><!--[--><a class="VPSocialLink" href="https://github.com/ARC-Lab-UF/vhdl-tutorial/" target="_blank" rel="noopener" data-v-b8f6762d data-v-179ad0ea><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-fb57374e data-v-6bee1efd><span class="container" data-v-6bee1efd><span class="top" data-v-6bee1efd></span><span class="middle" data-v-6bee1efd></span><span class="bottom" data-v-6bee1efd></span></span></button></div></div></div><!----></header><div class="VPLocalNav" data-v-3ff9331b data-v-d68ed9b2><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-d68ed9b2><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-d68ed9b2><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-d68ed9b2>Menu</span></button><a class="top-link" href="#" data-v-d68ed9b2> Return to top </a></div><aside class="VPSidebar" data-v-3ff9331b data-v-b10799cf><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-b10799cf><span class="visually-hidden" id="sidebar-aria-label" data-v-b10799cf> Sidebar Navigation </span><!--[--><div class="group" data-v-b10799cf><section class="VPSidebarGroup collapsible" data-v-b10799cf data-v-9c72bf2f><div class="title" role="button" data-v-9c72bf2f><h2 class="title-text" data-v-9c72bf2f>Combinational Logic</h2><div class="action" data-v-9c72bf2f><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-9c72bf2f><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-9c72bf2f><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-9c72bf2f><!--[--><a class="VPLink link link" href="/vhdl-tutorial/combinational/README.html" data-v-9c72bf2f data-v-2f312984 data-v-97a44ddd><!--[--><span class="link-text" data-v-2f312984>Introduction</span><!----><!--]--><!----></a><a class="VPLink link link active" href="/vhdl-tutorial/combinational/mux_2x1.html" data-v-9c72bf2f data-v-2f312984 data-v-97a44ddd><!--[--><span class="link-text" data-v-2f312984>2:1 mux</span><!----><!--]--><!----></a><a class="VPLink link link" href="/vhdl-tutorial/combinational/priority_encoder_4in.html" data-v-9c72bf2f data-v-2f312984 data-v-97a44ddd><!--[--><span class="link-text" data-v-2f312984>4-input Priority Encoder</span><!----><!--]--><!----></a><a class="VPLink link link" href="/vhdl-tutorial/combinational/priority_encoder.html" data-v-9c72bf2f data-v-2f312984 data-v-97a44ddd><!--[--><span class="link-text" data-v-2f312984>Generic Priority Encoder</span><!----><!--]--><!----></a><a class="VPLink link link" href="/vhdl-tutorial/combinational/add.html" data-v-9c72bf2f data-v-2f312984 data-v-97a44ddd><!--[--><span class="link-text" data-v-2f312984>Adders</span><!----><!--]--><!----></a><a class="VPLink link link" href="/vhdl-tutorial/combinational/mult.html" data-v-9c72bf2f data-v-2f312984 data-v-97a44ddd><!--[--><span class="link-text" data-v-2f312984>Multipliers</span><!----><!--]--><!----></a><a class="VPLink link link" href="/vhdl-tutorial/combinational/alu.html" data-v-9c72bf2f data-v-2f312984 data-v-97a44ddd><!--[--><span class="link-text" data-v-2f312984>ALU</span><!----><!--]--><!----></a><!--]--></div></section></div><div class="group" data-v-b10799cf><section class="VPSidebarGroup collapsible" data-v-b10799cf data-v-9c72bf2f><div class="title" role="button" data-v-9c72bf2f><h2 class="title-text" data-v-9c72bf2f>Structural Logic</h2><div class="action" data-v-9c72bf2f><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-9c72bf2f><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-9c72bf2f><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-9c72bf2f><!--[--><a class="VPLink link link" href="/vhdl-tutorial/structural/README.html" data-v-9c72bf2f data-v-2f312984 data-v-97a44ddd><!--[--><span class="link-text" data-v-2f312984>Introduction</span><!----><!--]--><!----></a><a class="VPLink link link" href="/vhdl-tutorial/structural/mux4x1.html" data-v-9c72bf2f data-v-2f312984 data-v-97a44ddd><!--[--><span class="link-text" data-v-2f312984>4:1 mux</span><!----><!--]--><!----></a><a class="VPLink link link" href="/vhdl-tutorial/structural/ripple_carry_adder.html" data-v-9c72bf2f data-v-2f312984 data-v-97a44ddd><!--[--><span class="link-text" data-v-2f312984>Ripple-Carry Adder</span><!----><!--]--><!----></a><a class="VPLink link link" href="/vhdl-tutorial/structural/delay.html" data-v-9c72bf2f data-v-2f312984 data-v-97a44ddd><!--[--><span class="link-text" data-v-2f312984>Delay</span><!----><!--]--><!----></a><a class="VPLink link link" href="/vhdl-tutorial/404.html" data-v-9c72bf2f data-v-2f312984 data-v-97a44ddd><!--[--><span class="link-text" data-v-2f312984>Add Tree (TBD)</span><!----><!--]--><!----></a><!--]--></div></section></div><div class="group" data-v-b10799cf><section class="VPSidebarGroup collapsible" data-v-b10799cf data-v-9c72bf2f><div class="title" role="button" data-v-9c72bf2f><h2 class="title-text" data-v-9c72bf2f>Sequential Logic</h2><div class="action" data-v-9c72bf2f><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-9c72bf2f><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-9c72bf2f><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-9c72bf2f><!--[--><a class="VPLink link link" href="/vhdl-tutorial/sequential/README.html" data-v-9c72bf2f data-v-2f312984 data-v-97a44ddd><!--[--><span class="link-text" data-v-2f312984>Introduction</span><!----><!--]--><!----></a><a class="VPLink link link" href="/vhdl-tutorial/sequential/reg.html" data-v-9c72bf2f data-v-2f312984 data-v-97a44ddd><!--[--><span class="link-text" data-v-2f312984>Register</span><!----><!--]--><!----></a><a class="VPLink link link" href="/vhdl-tutorial/sequential/seq_example.html" data-v-9c72bf2f data-v-2f312984 data-v-97a44ddd><!--[--><span class="link-text" data-v-2f312984>Behavioral Code Syn. Examples</span><!----><!--]--><!----></a><a class="VPLink link link" href="/vhdl-tutorial/sequential/delay.html" data-v-9c72bf2f data-v-2f312984 data-v-97a44ddd><!--[--><span class="link-text" data-v-2f312984>Delay</span><!----><!--]--><!----></a><a class="VPLink link link" href="/vhdl-tutorial/sequential/counter.html" data-v-9c72bf2f data-v-2f312984 data-v-97a44ddd><!--[--><span class="link-text" data-v-2f312984>Counter</span><!----><!--]--><!----></a><!--]--></div></section></div><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-3ff9331b data-v-54263dce><div class="VPDoc has-sidebar has-aside" data-v-54263dce data-v-680f4f24><div class="container" data-v-680f4f24><div class="aside" data-v-680f4f24><div class="aside-curtain" data-v-680f4f24></div><div class="aside-container" data-v-680f4f24><div class="aside-content" data-v-680f4f24><div class="VPDocAside" data-v-680f4f24 data-v-3598569e><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline has-outline" data-v-3598569e data-v-77f3f933><div class="content" data-v-77f3f933><div class="outline-marker" data-v-77f3f933></div><div class="outline-title" data-v-77f3f933>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-77f3f933><span class="visually-hidden" id="doc-outline-aria-label" data-v-77f3f933> Table of Contents for current page </span><ul class="root" data-v-77f3f933><!--[--><li data-v-77f3f933><a class="outline-link" href="#brief" data-v-77f3f933>Brief</a><ul data-v-77f3f933><!--[--><!--]--></ul></li><li data-v-77f3f933><a class="outline-link" href="#entity-mux-2x1" data-v-77f3f933>Entity mux_2x1</a><ul data-v-77f3f933><!--[--><li data-v-77f3f933><a class="outline-link nested" href="#arch-if-statement-of-mux-2x1" data-v-77f3f933>Arch if_statement of mux_2x1</a></li><li data-v-77f3f933><a class="outline-link nested" href="#arch-case-statement-of-mux-2x1" data-v-77f3f933>Arch case_statement of mux_2x1</a></li><li data-v-77f3f933><a class="outline-link nested" href="#arch-when-else-of-mux-2x1" data-v-77f3f933>Arch when_else of mux_2x1</a></li><li data-v-77f3f933><a class="outline-link nested" href="#arch-with-select-of-mux-2x1" data-v-77f3f933>Arch with_select of mux_2x1</a></li><li data-v-77f3f933><a class="outline-link nested" href="#arch-default-arch-of-mux-2x1" data-v-77f3f933>Arch default_arch of mux_2x1</a></li><!--]--></ul></li><li data-v-77f3f933><a class="outline-link" href="#entity-mux-2x1-tb" data-v-77f3f933>Entity mux_2x1_tb</a><ul data-v-77f3f933><!--[--><li data-v-77f3f933><a class="outline-link nested" href="#arch-default-tb-of-mux-2x1-tb" data-v-77f3f933>Arch default_tb of mux_2x1_tb</a></li><!--]--></ul></li><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-3598569e></div><!--[--><!--[--><!--[--><!--[--><!--[--><a class="banner" href="http://www.gstitt.ece.ufl.edu/courses/eel4720_5721/" target="_blank" data-v-b3a46a5a><img width="26" height="26" src="/vhdl-tutorial/logo.png" data-v-b3a46a5a><span data-v-b3a46a5a><p class="extra-info" data-v-b3a46a5a>EEL4720/5721 Fall 2022</p><p class="heading" data-v-b3a46a5a>Course Homepage</p><p class="extra-info" data-v-b3a46a5a>Reconfigurable Computing</p></span></a><h3 style="font-weight:bold;margin:0.3em;" data-v-b3a46a5a>Related Websites</h3><div class="VPDocAsideSponsors" data-v-b3a46a5a><div class="VPSponsors vp-sponsor aside"><!--[--><section class="vp-sponsor-section"><!----><div class="VPSponsorsGrid vp-sponsor-grid mini"><!--[--><div class="vp-sponsor-grid-item"><a class="vp-sponsor-grid-link" href="https://ufl.edu/" target="_blank" rel="sponsored noopener"><article class="vp-sponsor-grid-box"><h4 class="visually-hidden">University of Florida</h4><img class="vp-sponsor-grid-image" src="/vhdl-tutorial/brands/ufl.png" alt="University of Florida"></article></a></div><div class="vp-sponsor-grid-item"><a class="vp-sponsor-grid-link" href="https://ufl.edu/" target="_blank" rel="sponsored noopener"><article class="vp-sponsor-grid-box"><h4 class="visually-hidden">University of Florida</h4><img class="vp-sponsor-grid-image" src="/vhdl-tutorial/brands/ufl.png" alt="University of Florida"></article></a></div><!--]--></div></section><section class="vp-sponsor-section"><!----><div class="VPSponsorsGrid vp-sponsor-grid xmini"><!--[--><div class="vp-sponsor-grid-item"><a class="vp-sponsor-grid-link" href="https://ufl.edu/" target="_blank" rel="sponsored noopener"><article class="vp-sponsor-grid-box"><h4 class="visually-hidden">University of Florida</h4><img class="vp-sponsor-grid-image" src="/vhdl-tutorial/brands/ufl.png" alt="University of Florida"></article></a></div><div class="vp-sponsor-grid-item"><a class="vp-sponsor-grid-link" href="https://ufl.edu/" target="_blank" rel="sponsored noopener"><article class="vp-sponsor-grid-box"><h4 class="visually-hidden">University of Florida</h4><img class="vp-sponsor-grid-image" src="/vhdl-tutorial/brands/ufl.png" alt="University of Florida"></article></a></div><div class="vp-sponsor-grid-item"><a class="vp-sponsor-grid-link" href="https://ufl.edu/" target="_blank" rel="sponsored noopener"><article class="vp-sponsor-grid-box"><h4 class="visually-hidden">University of Florida</h4><img class="vp-sponsor-grid-image" src="/vhdl-tutorial/brands/ufl.png" alt="University of Florida"></article></a></div><div class="vp-sponsor-grid-item"><a class="vp-sponsor-grid-link" href="https://ufl.edu/" target="_blank" rel="sponsored noopener"><article class="vp-sponsor-grid-box"><h4 class="visually-hidden">University of Florida</h4><img class="vp-sponsor-grid-image" src="/vhdl-tutorial/brands/ufl.png" alt="University of Florida"></article></a></div><!--]--></div></section><!--]--></div></div><!--]--><!--]--><!--]--><!--]--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-680f4f24><div class="content-container" data-v-680f4f24><!--[--><!--]--><main class="main" data-v-680f4f24><div style="position:relative;" class="vp-doc _vhdl-tutorial_combinational_mux_2x1" data-v-680f4f24><div><h1 id="_2-1-mux" tabindex="-1">2:1 Mux <a class="header-anchor" href="#_2-1-mux" aria-hidden="true">#</a></h1><details class="details custom-block"><summary>Get source code for this page</summary><div style="display:flex;flex-direction:row;flex-wrap:wrap;"><a href="data:text/plain;charset=utf-8,--%20Greg%20Stitt%0A--%20University%20of%20Florida%0A%0A--%20You%20can%20ignore%20these%20for%20now.%20They%20will%20be%20explained%20later.%20For%20now%2C%20think%0A--%20of%20them%20as%20like%20header%20files%20in%20C%2B%2B%20that%20define%20types%2C%20functions%2C%20etc.%0Alibrary%20ieee%3B%0Ause%20ieee.std_logic_1164.all%3B%0A%0A--%20The%20entity%20is%20the%20most%20basic%20construct%20in%20VHDL.%20An%20entity%20encapsulates%0A--%20an%20arbitrary%20amount%20of%20logic%2C%20while%20defining%20the%20interface%20to%20that%20logic.%0A%0Aentity%20mux_2x1%20is%0A%20%20%20%20--%20The%20port%20statement%20defines%20the%20interface%20to%20the%20entity.%0A%20%20%20%20--%20std_logic%20is%20one%20of%20the%20basic%20types%20of%20VHDL.%20It%20defines%20values%20such%20as%0A%20%20%20%20--%20&#39;0&#39;%2C%20&#39;1&#39;%2C%20&#39;-&#39;%20(Don&#39;t%20care)%2C%20&#39;X&#39;%20(unknown)%2C%20&#39;U&#39;%20(uninitialized)%2C%0A%20%20%20%20--%20&#39;Z&#39;%20(high%20impedance)%2C%20among%20others.%0A%20%20%20%20--%0A%20%20%20%20--%20One%20unique%20difference%20from%20Verilog%2FSV%20is%20that%20Verilog%20does%20not%20have%0A%20%20%20%20--%20separate%20values%20for%20don&#39;t%20care%20and%20unitialized.%20Verilog%20typically%20uses%0A%20%20%20%20--%204-state%20types%20that%20define%200%2C%201%2C%20unknown%2C%20and%20high-impedence%20values.%0A%20%20%20%20--%20In%20Verilog%2C%20the%20unknown%20value%20is%20used%20for%20multiple%20purposes%2C%20such%20as%0A%20%20%20%20--%20don&#39;t%20care%20values%2C%20which%20in%20my%20opinion%20is%20not%20ideal.%20In%20addition%2C%0A%20%20%20%20--%20I%20find%20that%20separating%20between%20uninitialized%20and%20unknown%20is%20very%20useful%0A%20%20%20%20--%20in%20simulations.%20For%20example%2C%20if%20I%20don&#39;t%20reset%20a%20register%2C%20it%20shows%20up%0A%20%20%20%20--%20as%20uninitialized%2C%20which%20might%20be%20intentional.%20In%20Verilog%2C%20it%20shows%20up%20as%0A%20%20%20%20--%20unknown.%20The%20disadvantage%20of%20not%20separating%20these%20meanings%20is%20that%20in%0A%20%20%20%20--%20VHDL%2C%20I%20can%20easily%20find%20problematic%20behaviors%20by%20looking%20for%20Xs.%20In%0A%20%20%20%20--%20Verilog%2C%20many%20of%20the%20X%20values%20will%20be%20acceptable%2C%20which%20makes%20it%20harder%0A%20%20%20%20--%20to%20identify%20problematic%20instances.%0A%20%20%20%20--%0A%20%20%20%20--%20Each%20input%20and%20output%20on%20the%20port%20is%20a%20%22signal%2C%22%20which%20will%20be%20explained%0A%20%20%20%20--%20in%20detail%20later.%20For%20now%2C%20think%20of%20it%20as%20a%20variable%20from%20other%20languages.%0A%20%20%20%20--%20However%2C%20be%20aware%20that%20VHDL%20also%20has%20variables%20that%20behave%20differently%0A%20%20%20%20--%20than%20signals.%0A%0A%20%20%20%20port(%0A%20%20%20%20%20%20%20%20in0%20%20%20%20%3A%20in%20%20std_logic%3B%0A%20%20%20%20%20%20%20%20in1%20%20%20%20%3A%20in%20%20std_logic%3B%0A%20%20%20%20%20%20%20%20sel%20%20%20%20%3A%20in%20%20std_logic%3B%0A%20%20%20%20%20%20%20%20output%20%3A%20out%20std_logic)%3B%0Aend%20mux_2x1%3B%0A%0A%0A--%20Now%20that%20we%20have%20an%20entity%20for%20a%20circuit%2C%20we%20need%20to%20define%20what%20that%0A--%20circuit%20does.%20In%20VHDL%20we%20do%20this%20with%20an%20%22architecture.%22%20One%20big%20difference%0A--%20between%20Verilog%20and%20VHDL%20is%20that%20VHDL%20supports%20multiple%20architectures%20for%0A--%20the%20same%20entity.%20This%20flexbility%20can%20be%20useful%20since%20many%20circuits%20naturally%0A--%20have%20different%20implementations.%20For%20example%2C%20a%20multiplier%20entity%20might%20have%20a%0A--%20signed%20and%20unsigned%20architecture.%20Or%2C%20another%20entity%20might%20have%20a%20low-power%0A--%20architecture%20and%20a%20high-performance%20architecture.%20You%20can%20accomplish%20the%0A--%20same%20things%20in%20Verilog%2C%20but%20you%20either%20need%20multiple%20modules%0A--%20(which%20replicate%20the%20common%20interface)%2C%20or%20you%20need%20to%20use%20parameters%20and%0A--%20generate%20statements%20to%20produce%20different%20circuits%20within%20the%20same%20module.%0A%0A--%20In%20VHDL%2C%20there%20are%20two%20primary%20styles%20of%20architectures%3A%20behavioral%20and%0A--%20structural.%20For%20now%20we%20will%20focus%20on%20behavioral%20architectures%2C%20where%20we%0A--%20define%20the%20behavior%20of%20the%20circuit%2C%20and%20let%20synthesis%20create%20the%20actual%0A--%20structure%20from%20that%20behavior.%0A%0A-----------------------------------------------------------------------%0A--%20Mux%20architectures%20using%20sequential%20statements.%0A-----------------------------------------------------------------------%0A%0A--%20Sequential%20statements%20are%20similar%20to%20statements%20in%20commonly%20used%0A--%20imperative%20programming%20languages%20(C%2B%2B%2C%20Python%2C%20etc.).%0A--%20In%20VHDL%2C%20sequential%20statements%20can%20only%20be%20used%20within%20a%20process.%0A--%20The%20process%20itself%20is%20a%20concurrent%20statement%20(which%20will%20be%20explained%0A--%20later)%2C%20but%20all%20the%20statements%20inside%20the%20process%20are%20sequential.%0A--%0A--%20In%20simulation%2C%20a%20process%20executes%20any%20time%20one%20of%20the%20signals%20in%20the%0A--%20%22sensitivity%20list%22%20changes%2C%20which%20is%20the%20list%20of%20signals%20within%20parentheses%0A--%20at%20the%20top%20of%20the%20process.%0A--%0A--%20One%20very%20important%20point%20to%20understand%20is%20that%20sequential%20statements%20do%0A--%20not%20necessarily%20synthesize%20to%20sequential%20logic.%20Also%2C%20the%20order%20of%20the%0A--%20statements%20is%20not%20necessarily%20preserved%20by%20the%20resulting%20hardware.%20Synthesis%0A--%20simply%20replaces%20the%20sequentially%20defined%20behavior%20with%20a%20circuit%20that%0A--%20produces%20the%20same%20outputs.%20The%20circuit%20will%20also%20produce%20the%20output%20in%20the%0A--%20same%20cycle%20as%20the%20code.%0A%0Aarchitecture%20if_statement%20of%20mux_2x1%20is%0Abegin%0A%0A%20%20%20%20--%20*********************************************************************%0A%20%20%20%20--%20Synthesis%20guideline%20for%20combinational%20logic%3A%20All%20inputs%20to%20the%0A%20%20%20%20--%20combinational%20logic%20must%20be%20included%20in%20the%20sensitivity%20list.%0A%20%20%20%20--%20*********************************************************************%0A%20%20%20%20--%0A%20%20%20%20--%20DON&#39;T%20FORGET%20%22SEL%22.%20Leaving%20an%20input%20out%20of%20the%20sensitivity%20list%20is%20a%0A%20%20%20%20--%20very%20common%20source%20of%20bugs.%20To%20see%20what%20happens%2C%20remove%20%22sel%22%20and%20run%20the%0A%20%20%20%20--%20provided%20testbench.%0A%20%20%20%20--%0A%20%20%20%20--%20VHDL%202008%20addresses%20this%20problem%20with%20the%20following%20extension%3A%0A%20%20%20%20--%20%20%20%20process(all)%0A%20%20%20%20--%20which%20is%20equivalent%20to%20SystemVerilog&#39;s%0A%20%20%20%20--%20%20%20%20always%20%40(*)%0A%20%20%20%20--%20or%0A%20%20%20%20--%20%20%20%20always_comb%0A%0A%20%20%20%20process(in0%2C%20in1%2C%20sel)%0A%20%20%20%20begin%0A%20%20%20%20%20%20%20%20--%20Compare%20the%20select%20value%20with%20a%20single%200%20bit%20(&#39;0&#39;)%0A%20%20%20%20%20%20%20%20--%0A%20%20%20%20%20%20%20%20--%20Note%20that%20you%20cannot%20do%3A%0A%20%20%20%20%20%20%20%20--%20if%20(sel)%20then%0A%20%20%20%20%20%20%20%20--%20This%20is%20because%20VHDL%20is%20a%20strongly%20typed%20language%20and%20will%20not%0A%20%20%20%20%20%20%20%20--%20convert%20types%20for%20you.%20The%20VHDL%20grammar%20requires%20the%20if%20condition%0A%20%20%20%20%20%20%20%20--%20to%20be%20of%20type%20boolean%2C%20which%20despite%20being%20very%20similar%20to%0A%20%20%20%20%20%20%20%20--%20std_logic%2C%20is%20technically%20not%20the%20same.%20As%20a%20result%2C%20you%20need%20the%0A%20%20%20%20%20%20%20%20--%20%3D%20operator%20which%20returns%20a%20boolean.%20Note%20that%20VHDL%20does%20*not*%20use%0A%20%20%20%20%20%20%20%20--%20a%20double%20equal%20(%3D%3D)%20for%20a%20comparison.%0A%20%20%20%20%20%20%20%20--%0A%20%20%20%20%20%20%20%20--%20In%20VHDL%202008%20and%20Verilog%2C%20this%20conversion%20is%20done%20automatically.%0A%20%20%20%20%20%20%20%20if%20(sel%20%3D%20&#39;0&#39;)%20then%0A%20%20%20%20%20%20%20%20%20%20%20%20--%20Signal%20assignments%20are%20done%20with%20the%20%3C%3D%20operator.%20%0A%20%20%20%20%20%20%20%20%20%20%20%20output%20%3C%3D%20in0%3B%0A%20%20%20%20%20%20%20%20else%0A%20%20%20%20%20%20%20%20%20%20%20%20output%20%3C%3D%20in1%3B%0A%20%20%20%20%20%20%20%20end%20if%3B%0A%20%20%20%20end%20process%3B%0Aend%20if_statement%3B%0A%0A%0A--%20In%20this%20architecture%2C%20we%20define%20the%20behavior%20similarly%20using%20a%20case%20statement%0A--%20instead%20of%20an%20in%20statement.%20Like%20the%20if%2C%20the%20case%20is%20also%20a%20sequential%0A--%20statement%20and%20must%20therefore%20be%20inside%20a%20process%2F%0A%0Aarchitecture%20case_statement%20of%20mux_2x1%20is%0Abegin%0A%0A%20%20%20%20--%20Same%20guideline%20as%20before%2C%20make%20sure%20all%20inputs%20are%20in%20the%20sensitivy%20list%0A%20%20%20%20process(in0%2C%20in1%2C%20sel)%0A%20%20%20%20begin%0A%20%20%20%20%20%20%20%20--%20Case%20statement%20is%20similar%20to%20the%20if%2C%20but%20only%20one%20case%20can%20be%20true.%0A%20%20%20%20%20%20%20%20case%20sel%20is%0A%20%20%20%20%20%20%20%20%20%20%20%20when%20&#39;0&#39;%20%3D%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20output%20%3C%3D%20in0%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20when%20others%20%3D%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20output%20%3C%3D%20in1%3B%0A%20%20%20%20%20%20%20%20end%20case%3B%0A%0A--%20I%20sometimes%20do%20this%20when%20I%20want%20to%20catch%20a%20non%20&#39;0&#39;%20or%20&#39;1&#39;%20value%20in%0A--%20simulation.%20The%20%22null%22%20for%20the%20others%20clause%20just%20specifies%0A--%20that%20nothing%20should%20be%20done%20if%20sel%20isn&#39;t%20&#39;0&#39;%20or%20&#39;1&#39;.%20Synthesis%20ignores%20this%0A--%20when%20others%20because%20only%20the%20&#39;0&#39;%20and%20&#39;1&#39;%20have%20meaning%20in%20a%20real%20circuit.%0A--%20case%20sel%20is%0A--%20when%20&#39;0&#39;%20%3D%3E%0A--%20output%20%3C%3D%20in0%3B%0A--%20when%20&#39;1&#39;%20%3D%3E%0A--%20output%20%3C%3D%20in1%3B%0A--%20when%20others%20%3D%3E%0A--%20null%3B%0A--%20end%20case%3B%0A%20%20%20%20end%20process%3B%0Aend%20case_statement%3B%0A%0A%0A%0A-----------------------------------------------------------------------%0A--%20Mux%20architectures%20using%20concurrent%20statements.%0A-----------------------------------------------------------------------%0A%0A--%20Unlike%20sequential%20statements%2C%20concurrent%20statements%20all%20execute%20at%20the%0A--%20same%20time%20instead%20of%20in%20order.%20In%20VHDL%2C%20anything%20outside%20of%20a%20process%20is%0A--%20a%20concurrent%20statement.%20Any%20concurrent%20statement%20will%20update%20its%20assigned%0A--%20signal%20when%20any%20of%20its%20input%20signals%20change.%0A--%0A--%20One%20common%20cause%20of%20confusion%20is%20that%20the%20process%20is%20actually%20a%20concurrent%0A--%20statement.%20So%2C%20all%20processes%2C%20and%20all%20statements%20outside%20of%20processes%20run%0A--%20at%20the%20same%20time.%20%0A%0A--%20Here%20we%20use%20a%20when-else%20statement%20to%20define%20the%20mux.%0A%0Aarchitecture%20when_else%20of%20mux_2x1%20is%0Abegin%0A%20%20%20%20--%20The%20when-else%20is%20a%20concurrent%20equivalent%20to%20the%20sequential%20if%20statement.%0A%20%20%20%20output%20%3C%3D%20in0%20when%20sel%20%3D%20&#39;0&#39;%20else%20in1%3B%0A%0A%20%20%20%20--%20Like%20before%2C%20you%20have%20also%20done%20something%20like%20this%20for%20simulation%0A%20%20%20%20--%20purposes.%20However%2C%20I%20don&#39;t%20recommend%20this%20unless%20you%20have%20a%20good%20reason.%20%0A--%20%20%20%20output%20%3C%3D%20in0%20when%20sel%20%3D%20&#39;0&#39;%20else%0A--%20%20%20%20%20%20%20%20%20%20%20%20%20%20in1%20when%20sel%20%3D%20&#39;1&#39;%20else%0A--%20%20%20%20%20%20%20%20%20%20%20%20%20%20&#39;X&#39;%3B%0A%0A%20%20%20%20--%20Important%20thing%20to%20remember%3A%20make%20sure%20to%20include%20an%20else%20at%20the%20end%2C%20or%0A%20%20%20%20--%20alternatively%20you%20must%20specify%20an%20assignment%20for%20each%20possible%20input%0A%20%20%20%20--%20value.%0A%20%20%20%20%0Aend%20when_else%3B%0A%0A%0A%0A--%20Here%20we%20define%20the%20mux%20using%20the%20with-select%20construct.%0A--%20NOTE%3A%20I%20have%20experienced%20problems%20with%20this%20construct%20in%20Vivado&#39;s%20simulator%0A--%20and%20suggest%20avoiding%20it%20for%20this%20reason.%20I%20have%20not%20had%20problems%20in%20any%0A--%20other%20simulators.%0A%0Aarchitecture%20with_select%20of%20mux_2x1%20is%0Abegin%0A%20%20%20%20--%20The%20with-select%20is%20the%20concurrent%20equavilent%20to%20the%20case%20statement.%0A%20%20%20%20--%20Like%20the%20case%20statement%2C%20only%20one%20of%20the%20conditions%20can%20be%20true.%0A%20%20%20%20with%20sel%20select%0A%20%20%20%20%20%20%20%20output%20%3C%3D%20in0%20when%20&#39;0&#39;%2C%0A%20%20%20%20%20%20%20%20in1%20%20%20%20%20%20%20%20%20%20%20when%20others%3B%0A%0A%20%20%20%20--%20For%20simulation%2C%20you%20could%20do%20something%20similar%20as%20the%20earlier%20examples%0A%20%20%20%20--%20and%20have%20a%20separate%20when%20others.%20Again%2C%20I%20don&#39;t%20recommend%20this%20unless%20you%0A%20%20%20%20--%20have%20a%20good%20reason%2C%20but%20synthesis%20will%20create%20the%20same%20circuit.%0A--%20%20with%20sel%20select%0A--%20%20%20%20output%20%3C%3D%20in0%20when%20&#39;0&#39;%2C%0A--%20%20%20%20in1%20%20%20%20%20%20%20%20%20%20%20when%20&#39;1&#39;%2C%0A--%20%20%20%20&#39;X&#39;%20%20%20%20%20%20%20%20%20%20%20when%20others%3B%0A%0A%20%20%20%20--%20Important%20thing%20to%20remember%3A%20make%20sure%20to%20include%20%22others%22%2C%20or%0A%20%20%20%20--%20alternatively%20you%20must%20specify%20a%20when%20clause%20for%20each%20possible%20value.%0A%0Aend%20with_select%3B%0A%0A%0A--%20This%20architecture%20would%20never%20be%20needed%20in%20normal%20situations.%20I%20use%20it%0A--%20here%20to%20provide%20a%20convenient%20way%20of%20synthesizing%20or%20simulating%20different%0A--%20architectures.%20Simply%20change%20the%20name%20of%20the%20architecture%20in%20parentheses%0A--%20after%20work.mux_2x1%20to%20evaluate%20each%20architecture.%0A%0Aarchitecture%20default_arch%20of%20mux_2x1%20is%0Abegin%0A%0A%20%20%20%20--%20INSTRUCTIONS%3A%20Uncommend%20the%20line%20with%20the%20architecture%20you%20want%20to%0A%20%20%20%20--%20synthesize%20or%20simulate.%0A%20%20%20%20UUT%20%3A%20entity%20work.mux_2x1(if_statement)%0A%20%20%20%20--UUT%20%3A%20entity%20work.mux_2x1(case_statement)%0A%20%20%20%20--UUT%20%3A%20entity%20work.mux_2x1(when_else)%0A%20%20%20%20--UUT%20%3A%20entity%20work.mux_2x1(with_select)%0A%20%20%20%20%20%20%20%20port%20map%20(in0%20%3D%3E%20in0%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20in1%20%3D%3E%20in1%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20sel%20%3D%3E%20sel%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20output%20%3D%3E%20output)%3B%0A%20%20%20%20%0Aend%20default_arch%3B%0A" style="text-decoration:none !important;" download="mux_2x1.vhd"><code style="border:1px solid var(--vp-c-brand-darker);color:var(--vp-c-brand-darker);padding:0.4em 0.8em;margin:0 0.8em 0.4em 0;">mux_2x1.vhd</code></a><a href="data:text/plain;charset=utf-8,--%20Greg%20Stitt%0A--%20University%20of%20Florida%0A%0A--%20Description%3A%20This%20module%20illustrates%20a%20very%20basic%20testbench%20for%20the%0A--%20mux_x2x1%20entity.%20Testbenches%20will%20be%20explained%20in%20more%20detail%20later.%0A--%0A--%20Unlike%20most%20testbenches%2C%20this%20testbench%20tests%20all%20of%20the%20different%0A--%20architectures%20of%20the%20entity.%20It%20is%20more%20common%20to%20test%20a%20single%20architecture%0A--%20that%20is%20either%20hardcoded%2C%20specified%20via%20a%20generic%2Fparameter%2C%20or%20specified%0A--%20using%20the%20configuration%20keyword.%0A%0Alibrary%20ieee%3B%0Ause%20ieee.std_logic_1164.all%3B%0Ause%20ieee.numeric_std.all%3B%0A%0A--%20The%20testbench%20is%20just%20an%20entity%20with%20no%20I%2FO.%20Testbenches%20can%20have%20I%2FO%2C%20but%0A--%20they%20usually%20don&#39;t%20unless%20you%20are%20creating%20a%20hierarchy%20of%20testbenches.%0Aentity%20mux_2x1_tb%20is%0Aend%20mux_2x1_tb%3B%0A%0A%0Aarchitecture%20default_tb%20of%20mux_2x1_tb%20is%0A%0A%20%20%20%20--%20Declare%20local%20signals%20for%20all%20I%2FO%20of%20the%20entity%20we%20want%20to%20test.%0A%20%20%20%20--%20I%20highly%20suggest%20using%20the%20same%20names%20as%20the%20entity&#39;s%20port.%0A%20%20%20%20signal%20in0%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3A%20std_logic%3B%0A%20%20%20%20signal%20in1%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3A%20std_logic%3B%0A%20%20%20%20signal%20sel%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3A%20std_logic%3B%0A%20%20%20%20signal%20output_with_select%20%3A%20std_logic%3B%0A%20%20%20%20signal%20output_when_else%20%20%20%3A%20std_logic%3B%0A%20%20%20%20signal%20output_if%20%20%20%20%20%20%20%20%20%20%3A%20std_logic%3B%0A%20%20%20%20signal%20output_case%20%20%20%20%20%20%20%20%3A%20std_logic%3B%0A%0Abegin%20%20--%20TB%0A%0A%20%20%20%20--%20Create%20an%20instance%20of%20each%20architecture%2C%20which%20is%20specified%20in%0A%20%20%20%20--%20parentheses.%20Entity%20instantiations%20will%20be%20explained%20more%20in%20the%0A%20%20%20%20--%20structural%20architecture%20section.%0A%20%20%20%20U_WITH_SELECT%20%3A%20entity%20work.mux_2x1(with_select)%0A%20%20%20%20%20%20%20%20port%20map%20(%0A%20%20%20%20%20%20%20%20%20%20%20%20in0%20%20%20%20%3D%3E%20in0%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20in1%20%20%20%20%3D%3E%20in1%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20sel%20%20%20%20%3D%3E%20sel%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20output%20%3D%3E%20output_with_select)%3B%0A%0A%20%20%20%20U_WHEN_ELSE%20%3A%20entity%20work.mux_2x1(when_else)%0A%20%20%20%20%20%20%20%20port%20map%20(%0A%20%20%20%20%20%20%20%20%20%20%20%20in0%20%20%20%20%3D%3E%20in0%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20in1%20%20%20%20%3D%3E%20in1%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20sel%20%20%20%20%3D%3E%20sel%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20output%20%3D%3E%20output_when_else)%3B%0A%0A%20%20%20%20U_IF%20%3A%20entity%20work.mux_2x1(if_statement)%0A%20%20%20%20%20%20%20%20port%20map%20(%0A%20%20%20%20%20%20%20%20%20%20%20%20in0%20%20%20%20%3D%3E%20in0%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20in1%20%20%20%20%3D%3E%20in1%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20sel%20%20%20%20%3D%3E%20sel%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20output%20%3D%3E%20output_if)%3B%0A%0A%20%20%20%20U_CASE%20%3A%20entity%20work.mux_2x1(case_statement)%0A%20%20%20%20%20%20%20%20port%20map%20(%0A%20%20%20%20%20%20%20%20%20%20%20%20in0%20%20%20%20%3D%3E%20in0%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20in1%20%20%20%20%3D%3E%20in1%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20sel%20%20%20%20%3D%3E%20sel%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20output%20%3D%3E%20output_case)%3B%0A%0A%20%20%20%20--%20Use%20a%20process%20to%20drive%20inputs%20of%20the%20entities.%20A%20process%20without%0A%20%20%20%20--%20a%20sensitivity%20list%20is%20essentially%20an%20infinite%20loop%20that%20starts%20at%20the%0A%20%20%20%20--%20beginning%20of%20the%20simulation.%0A%20%20%20%20process%0A%20%20%20%20%20%20%20%20--%20Variables%20will%20be%20explained%20in%20later%20examples%2C%20but%20the%20key%20difference%0A%20%20%20%20%20%20%20%20--%20from%20a%20signal%20is%20they%20are%20updated%20immediately%2C%20and%20have%20a%20scope%20that%0A%20%20%20%20%20%20%20%20--%20is%20limited%20to%20the%20process.%0A%20%20%20%20%20%20%20%20variable%20temp%20%3A%20std_logic_vector(2%20downto%200)%3B%0A%0A%20%20%20%20%20%20%20%20--%20Define%20a%20function%20to%20act%20as%20a%20reference%20model%20for%20correct%20outputs.%0A%20%20%20%20%20%20%20%20function%20mux_test%20(%0A%20%20%20%20%20%20%20%20%20%20%20%20signal%20in0%20%3A%20std_logic%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20signal%20in1%20%3A%20std_logic%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20signal%20sel%20%3A%20std_logic)%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20std_logic%20is%0A%20%20%20%20%20%20%20%20begin%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(sel%20%3D%20&#39;0&#39;)%20then%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20in0%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20else%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20in1%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20end%20if%3B%0A%20%20%20%20%20%20%20%20end%20mux_test%3B%0A%0A%20%20%20%20begin%0A%20%20%20%20%20%20%20%20--%20There%20are%20only%208%20input%20combinations%20for%20a%202%3A1%20mux%2C%20so%20test%20them%20all.%0A%20%20%20%20%20%20%20%20for%20i%20in%200%20to%207%20loop%0A%20%20%20%20%20%20%20%20%20%20%20%20--%20Put%20the%20loop%20index%20into%20the%203-bit%20variable.%0A%20%20%20%20%20%20%20%20%20%20%20%20temp%20%3A%3D%20std_logic_vector(to_unsigned(i%2C%203))%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20--%20Slice%20into%20the%20variable%20to%20get%20bits%20for%20the%20inputs.%0A%20%20%20%20%20%20%20%20%20%20%20%20in0%20%20%3C%3D%20temp(2)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20in1%20%20%3C%3D%20temp(1)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20sel%20%20%3C%3D%20temp(0)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20wait%20for%2010%20ns%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20--%20Verify%20the%20outputs.%0A%20%20%20%20%20%20%20%20%20%20%20%20--%20This%20shows%20that%20string%20operations%20are%20pretty%20inconvenient%20in%0A%20%20%20%20%20%20%20%20%20%20%20%20--%20VHDL%2C%20which%20is%20where%20Verilog%2FSV%20has%20clear%20advantages.%0A%20%20%20%20%20%20%20%20%20%20%20%20assert(output_with_select%20%3D%20mux_test(in0%2C%20in1%2C%20sel))%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20report%20%22Error%20%3A%20output_with_select%20incorrect%20for%20in0%20%3D%20%22%20%26%20std_logic&#39;image(in0)%20%26%20%22%20in1%20%3D%20%22%20%26%20std_logic&#39;image(in1)%20%26%20%22%20sel%20%3D%20%22%20%26%20std_logic&#39;image(sel)%20severity%20warning%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20assert(output_when_else%20%3D%20mux_test(in0%2C%20in1%2C%20sel))%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20report%20%22Error%20%3A%20output_when_else%20incorrect%20for%20in0%20%3D%20%22%20%26%20std_logic&#39;image(in0)%20%26%20%22%20in1%20%3D%20%22%20%26%20std_logic&#39;image(in1)%20%26%20%22%20sel%20%3D%20%22%20%26%20std_logic&#39;image(sel)%20severity%20warning%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20assert(output_if%20%3D%20mux_test(in0%2C%20in1%2C%20sel))%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20report%20%22Error%20%3A%20output_if%20incorrect%20for%20in0%20%3D%20%22%20%26%20std_logic&#39;image(in0)%20%26%20%22%20in1%20%3D%20%22%20%26%20std_logic&#39;image(in1)%20%26%20%22%20sel%20%3D%20%22%20%26%20std_logic&#39;image(sel)%20severity%20warning%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20assert(output_case%20%3D%20mux_test(in0%2C%20in1%2C%20sel))%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20report%20%22Error%20%3A%20output_case%20incorrect%20for%20in0%20%3D%20%22%20%26%20std_logic&#39;image(in0)%20%26%20%22%20in1%20%3D%20%22%20%26%20std_logic&#39;image(in1)%20%26%20%22%20sel%20%3D%20%22%20%26%20std_logic&#39;image(sel)%20severity%20warning%3B%0A%0A%20%20%20%20%20%20%20%20end%20loop%3B%20%20--%20i%0A%0A%20%20%20%20%20%20%20%20report%20%22Simulation%20complete!!!%22%3B%0A%0A%20%20%20%20%20%20%20%20--%20The%20wait%20statement%20ends%20the%20infinite%20loop%20created%20by%20the%20process.%0A%20%20%20%20%20%20%20%20wait%3B%0A%0A%20%20%20%20end%20process%3B%0A%0Aend%20default_tb%3B%0A" style="text-decoration:none !important;" download="mux_2x1_tb.vhd"><code style="border:1px solid var(--vp-c-brand-darker);color:var(--vp-c-brand-darker);padding:0.4em 0.8em;margin:0 0.8em 0.4em 0;">mux_2x1_tb.vhd</code></a></div><div style="font-size:0.8em;font-weight:bold;margin-top:1em;"> If your browser displays the code as plain text, press <code style="font-size:inherit;">Ctrl/Cmd</code> + <code style="font-size:inherit;">S</code> to save it. </div></details><h2 id="brief" tabindex="-1">Brief <a class="header-anchor" href="#brief" aria-hidden="true">#</a></h2><ul><li><p>Introduces basic constructs and guidelines for combinational logic.</p></li><li><p>Includes a testbench that tests all included architectures at the same time.</p></li></ul><h2 id="entity-mux-2x1" tabindex="-1">Entity <code>mux_2x1</code> <a class="header-anchor" href="#entity-mux-2x1" aria-hidden="true">#</a></h2><p>You can ignore these for now. They will be explained later. For now, think of them as like header files in C++ that define types, functions, etc.</p><div class="language-vhdl"><button class="copy"></button><span class="lang">vhdl</span><pre><code><span class="line"><span style="color:#89DDFF;">library</span><span style="color:#A6ACCD;"> ieee</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">use</span><span style="color:#A6ACCD;"> ieee</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">std_logic_1164</span><span style="color:#89DDFF;">.all;</span></span>
<span class="line"></span></code></pre></div><p>The entity is the most basic construct in VHDL. An entity encapsulates an arbitrary amount of logic, while defining the interface to that logic.</p><div class="language-vhdl"><button class="copy"></button><span class="lang">vhdl</span><pre><code><span class="line"><span style="color:#89DDFF;">entity</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">mux_2x1</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">is</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;">-- The port statement defines the interface to the entity.</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;">-- std_logic is one of the basic types of VHDL. It defines values such as</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;">-- &#39;0&#39;, &#39;1&#39;, &#39;-&#39; (Don&#39;t care), &#39;X&#39; (unknown), &#39;U&#39; (uninitialized),</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;">-- &#39;Z&#39; (high impedance), among others.</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;">--</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;">-- One unique difference from Verilog/SV is that Verilog does not have</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;">-- separate values for don&#39;t care and unitialized. Verilog typically uses</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;">-- 4-state types that define 0, 1, unknown, and high-impedence values.</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;">-- In Verilog, the unknown value is used for multiple purposes, such as</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;">-- don&#39;t care values, which in my opinion is not ideal. In addition,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;">-- I find that separating between uninitialized and unknown is very useful</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;">-- in simulations. For example, if I don&#39;t reset a register, it shows up</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;">-- as uninitialized, which might be intentional. In Verilog, it shows up as</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;">-- unknown. The disadvantage of not separating these meanings is that in</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;">-- VHDL, I can easily find problematic behaviors by looking for Xs. In</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;">-- Verilog, many of the X values will be acceptable, which makes it harder</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;">-- to identify problematic instances.</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;">--</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;">-- Each input and output on the port is a &quot;signal,&quot; which will be explained</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;">-- in detail later. For now, think of it as a variable from other languages.</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;">-- However, be aware that VHDL also has variables that behave differently</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;">-- than signals.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">port(</span></span>
<span class="line"><span style="color:#A6ACCD;">        in0    </span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">std_logic</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">        in1    </span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">std_logic</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">        sel    </span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">std_logic</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#FFCB6B;">output</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">out</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">std_logic</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#89DDFF;">end</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">mux_2x1</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><h3 id="arch-if-statement-of-mux-2x1" tabindex="-1">Arch <code>if_statement</code> of <a href="#entity-mux-2x1"><code>mux_2x1</code></a> <a class="header-anchor" href="#arch-if-statement-of-mux-2x1" aria-hidden="true">#</a></h3><p>Now that we have an entity for a circuit, we need to define what that circuit does. In VHDL we do this with an &quot;architecture.&quot; One big difference between Verilog and VHDL is that VHDL supports multiple architectures for the same entity. This flexbility can be useful since many circuits naturally have different implementations. For example, a multiplier entity might have a signed and unsigned architecture. Or, another entity might have a low-power architecture and a high-performance architecture. You can accomplish the same things in Verilog, but you either need multiple modules (which replicate the common interface), or you need to use parameters and generate statements to produce different circuits within the same module.</p><p>In VHDL, there are two primary styles of architectures: behavioral and structural. For now we will focus on behavioral architectures, where we define the behavior of the circuit, and let synthesis create the actual structure from that behavior.</p><p>Mux architectures using sequential statements.</p><p>Sequential statements are similar to statements in commonly used imperative programming languages (C++, Python, etc.). In VHDL, sequential statements can only be used within a process. The process itself is a concurrent statement (which will be explained later), but all the statements inside the process are sequential.</p><p>In simulation, a process executes any time one of the signals in the &quot;sensitivity list&quot; changes, which is the list of signals within parentheses at the top of the process.</p><p>One very important point to understand is that sequential statements do not necessarily synthesize to sequential logic. Also, the order of the statements is not necessarily preserved by the resulting hardware. Synthesis simply replaces the sequentially defined behavior with a circuit that produces the same outputs. The circuit will also produce the output in the same cycle as the code.</p><div class="language-vhdl"><button class="copy"></button><span class="lang">vhdl</span><pre><code><span class="line"><span style="color:#89DDFF;">architecture</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">if_statement</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">of</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">mux_2x1</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">is</span></span>
<span class="line"><span style="color:#89DDFF;">begin</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;">-- *********************************************************************</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;">-- Synthesis guideline for combinational logic: All inputs to the</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;">-- combinational logic must be included in the sensitivity list.</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;">-- *********************************************************************</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;">--</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;">-- DON&#39;T FORGET &quot;SEL&quot;. Leaving an input out of the sensitivity list is a</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;">-- very common source of bugs. To see what happens, remove &quot;sel&quot; and run the</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;">-- provided testbench.</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;">--</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;">-- VHDL 2008 addresses this problem with the following extension:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;">--    process(all)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;">-- which is equivalent to SystemVerilog&#39;s</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;">--    always @(*)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;">-- or</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;">--    always_comb</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">process(</span><span style="color:#A6ACCD;">in0</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> in1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> sel</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">begin</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#676E95;">-- Compare the select value with a single 0 bit (&#39;0&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#676E95;">--</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#676E95;">-- Note that you cannot do:</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#676E95;">-- if (sel) then</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#676E95;">-- This is because VHDL is a strongly typed language and will not</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#676E95;">-- convert types for you. The VHDL grammar requires the if condition</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#676E95;">-- to be of type boolean, which despite being very similar to</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#676E95;">-- std_logic, is technically not the same. As a result, you need the</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#676E95;">-- = operator which returns a boolean. Note that VHDL does *not* use</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#676E95;">-- a double equal (==) for a comparison.</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#676E95;">--</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#676E95;">-- In VHDL 2008 and Verilog, this conversion is done automatically.</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">sel </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">&#39;0&#39;</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">then</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#676E95;">-- Signal assignments are done with the &lt;= operator. </span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#FFCB6B;">output</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;=</span><span style="color:#A6ACCD;"> in0</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">else</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#FFCB6B;">output</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;=</span><span style="color:#A6ACCD;"> in1</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">end</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">if;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">end</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">process;</span></span>
<span class="line"><span style="color:#89DDFF;">end</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">if_statement</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><h3 id="arch-case-statement-of-mux-2x1" tabindex="-1">Arch <code>case_statement</code> of <a href="#entity-mux-2x1"><code>mux_2x1</code></a> <a class="header-anchor" href="#arch-case-statement-of-mux-2x1" aria-hidden="true">#</a></h3><p>In this architecture, we define the behavior similarly using a case statement instead of an in statement. Like the if, the case is also a sequential statement and must therefore be inside a process/</p><div class="language-vhdl"><button class="copy"></button><span class="lang">vhdl</span><pre><code><span class="line"><span style="color:#89DDFF;">architecture</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">case_statement</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">of</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">mux_2x1</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">is</span></span>
<span class="line"><span style="color:#89DDFF;">begin</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;">-- Same guideline as before, make sure all inputs are in the sensitivy list</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">process(</span><span style="color:#A6ACCD;">in0</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> in1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> sel</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">begin</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#676E95;">-- Case statement is similar to the if, but only one case can be true.</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">case</span><span style="color:#A6ACCD;"> sel </span><span style="color:#89DDFF;">is</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">when</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">&#39;0&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">                </span><span style="color:#FFCB6B;">output</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;=</span><span style="color:#A6ACCD;"> in0</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">when</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">others</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">                </span><span style="color:#FFCB6B;">output</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;=</span><span style="color:#A6ACCD;"> in1</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">end</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">case;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;">-- I sometimes do this when I want to catch a non &#39;0&#39; or &#39;1&#39; value in</span></span>
<span class="line"><span style="color:#676E95;">-- simulation. The &quot;null&quot; for the others clause just specifies</span></span>
<span class="line"><span style="color:#676E95;">-- that nothing should be done if sel isn&#39;t &#39;0&#39; or &#39;1&#39;. Synthesis ignores this</span></span>
<span class="line"><span style="color:#676E95;">-- when others because only the &#39;0&#39; and &#39;1&#39; have meaning in a real circuit.</span></span>
<span class="line"><span style="color:#676E95;">-- case sel is</span></span>
<span class="line"><span style="color:#676E95;">-- when &#39;0&#39; =&gt;</span></span>
<span class="line"><span style="color:#676E95;">-- output &lt;= in0;</span></span>
<span class="line"><span style="color:#676E95;">-- when &#39;1&#39; =&gt;</span></span>
<span class="line"><span style="color:#676E95;">-- output &lt;= in1;</span></span>
<span class="line"><span style="color:#676E95;">-- when others =&gt;</span></span>
<span class="line"><span style="color:#676E95;">-- null;</span></span>
<span class="line"><span style="color:#676E95;">-- end case;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">end</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">process;</span></span>
<span class="line"><span style="color:#89DDFF;">end</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">case_statement</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><h3 id="arch-when-else-of-mux-2x1" tabindex="-1">Arch <code>when_else</code> of <a href="#entity-mux-2x1"><code>mux_2x1</code></a> <a class="header-anchor" href="#arch-when-else-of-mux-2x1" aria-hidden="true">#</a></h3><p>Mux architectures using concurrent statements.</p><p>Unlike sequential statements, concurrent statements all execute at the same time instead of in order. In VHDL, anything outside of a process is a concurrent statement. Any concurrent statement will update its assigned signal when any of its input signals change.</p><p>One common cause of confusion is that the process is actually a concurrent statement. So, all processes, and all statements outside of processes run at the same time.</p><p>Here we use a when-else statement to define the mux.</p><div class="language-vhdl"><button class="copy"></button><span class="lang">vhdl</span><pre><code><span class="line"><span style="color:#89DDFF;">architecture</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">when_else</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">of</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">mux_2x1</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">is</span></span>
<span class="line"><span style="color:#89DDFF;">begin</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;">-- The when-else is a concurrent equivalent to the sequential if statement.</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">output</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;=</span><span style="color:#A6ACCD;"> in0 </span><span style="color:#89DDFF;">when</span><span style="color:#A6ACCD;"> sel </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">&#39;0&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">else</span><span style="color:#A6ACCD;"> in1</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;">-- Like before, you have also done something like this for simulation</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;">-- purposes. However, I don&#39;t recommend this unless you have a good reason. </span></span>
<span class="line"><span style="color:#676E95;">--    output &lt;= in0 when sel = &#39;0&#39; else</span></span>
<span class="line"><span style="color:#676E95;">--              in1 when sel = &#39;1&#39; else</span></span>
<span class="line"><span style="color:#676E95;">--              &#39;X&#39;;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;">-- Important thing to remember: make sure to include an else at the end, or</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;">-- alternatively you must specify an assignment for each possible input</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;">-- value.</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#89DDFF;">end</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">when_else</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><h3 id="arch-with-select-of-mux-2x1" tabindex="-1">Arch <code>with_select</code> of <a href="#entity-mux-2x1"><code>mux_2x1</code></a> <a class="header-anchor" href="#arch-with-select-of-mux-2x1" aria-hidden="true">#</a></h3><p>Here we define the mux using the with-select construct. NOTE: I have experienced problems with this construct in Vivado&#39;s simulator and suggest avoiding it for this reason. I have not had problems in any other simulators.</p><div class="language-vhdl"><button class="copy"></button><span class="lang">vhdl</span><pre><code><span class="line"><span style="color:#89DDFF;">architecture</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">with_select</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">of</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">mux_2x1</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">is</span></span>
<span class="line"><span style="color:#89DDFF;">begin</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;">-- The with-select is the concurrent equavilent to the case statement.</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;">-- Like the case statement, only one of the conditions can be true.</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">with</span><span style="color:#A6ACCD;"> sel </span><span style="color:#89DDFF;">select</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#FFCB6B;">output</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;=</span><span style="color:#A6ACCD;"> in0 </span><span style="color:#89DDFF;">when</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">&#39;0&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        in1           </span><span style="color:#89DDFF;">when</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">others;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;">-- For simulation, you could do something similar as the earlier examples</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;">-- and have a separate when others. Again, I don&#39;t recommend this unless you</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;">-- have a good reason, but synthesis will create the same circuit.</span></span>
<span class="line"><span style="color:#676E95;">--  with sel select</span></span>
<span class="line"><span style="color:#676E95;">--    output &lt;= in0 when &#39;0&#39;,</span></span>
<span class="line"><span style="color:#676E95;">--    in1           when &#39;1&#39;,</span></span>
<span class="line"><span style="color:#676E95;">--    &#39;X&#39;           when others;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;">-- Important thing to remember: make sure to include &quot;others&quot;, or</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;">-- alternatively you must specify a when clause for each possible value.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">end</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">with_select</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><h3 id="arch-default-arch-of-mux-2x1" tabindex="-1">Arch <code>default_arch</code> of <a href="#entity-mux-2x1"><code>mux_2x1</code></a> <a class="header-anchor" href="#arch-default-arch-of-mux-2x1" aria-hidden="true">#</a></h3><p>This architecture would never be needed in normal situations. I use it here to provide a convenient way of synthesizing or simulating different architectures. Simply change the name of the architecture in parentheses after work.mux_2x1 to evaluate each architecture.</p><div class="language-vhdl"><button class="copy"></button><span class="lang">vhdl</span><pre><code><span class="line"><span style="color:#89DDFF;">architecture</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">default_arch</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">of</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">mux_2x1</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">is</span></span>
<span class="line"><span style="color:#89DDFF;">begin</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;">-- INSTRUCTIONS: Uncommend the line with the architecture you want to</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;">-- synthesize or simulate.</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">UUT</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">entity</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">work</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">mux_2x1</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">if_statement</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;">--UUT : entity work.mux_2x1(case_statement)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;">--UUT : entity work.mux_2x1(when_else)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;">--UUT : entity work.mux_2x1(with_select)</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">port</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">map</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">in0 </span><span style="color:#89DDFF;">=&gt;</span><span style="color:#A6ACCD;"> in0</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">                  in1 </span><span style="color:#89DDFF;">=&gt;</span><span style="color:#A6ACCD;"> in1</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">                  sel </span><span style="color:#89DDFF;">=&gt;</span><span style="color:#A6ACCD;"> sel</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">                  </span><span style="color:#FFCB6B;">output</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">output</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#89DDFF;">end</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">default_arch</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><h2 id="entity-mux-2x1-tb" tabindex="-1">Entity <code>mux_2x1_tb</code> <a class="header-anchor" href="#entity-mux-2x1-tb" aria-hidden="true">#</a></h2><p>Description: This module illustrates a very basic testbench for the mux_x2x1 entity. Testbenches will be explained in more detail later.</p><p>Unlike most testbenches, this testbench tests all of the different architectures of the entity. It is more common to test a single architecture that is either hardcoded, specified via a generic/parameter, or specified using the configuration keyword.</p><div class="language-vhdl"><button class="copy"></button><span class="lang">vhdl</span><pre><code><span class="line"><span style="color:#89DDFF;">library</span><span style="color:#A6ACCD;"> ieee</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">use</span><span style="color:#A6ACCD;"> ieee</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">std_logic_1164</span><span style="color:#89DDFF;">.all;</span></span>
<span class="line"><span style="color:#89DDFF;">use</span><span style="color:#A6ACCD;"> ieee</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">numeric_std</span><span style="color:#89DDFF;">.all;</span></span>
<span class="line"></span></code></pre></div><p>The testbench is just an entity with no I/O. Testbenches can have I/O, but they usually don&#39;t unless you are creating a hierarchy of testbenches.</p><div class="language-vhdl"><button class="copy"></button><span class="lang">vhdl</span><pre><code><span class="line"><span style="color:#89DDFF;">entity</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">mux_2x1_tb</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">is</span></span>
<span class="line"><span style="color:#89DDFF;">end</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">mux_2x1_tb</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><h3 id="arch-default-tb-of-mux-2x1-tb" tabindex="-1">Arch <code>default_tb</code> of <a href="#entity-mux-2x1-tb"><code>mux_2x1_tb</code></a> <a class="header-anchor" href="#arch-default-tb-of-mux-2x1-tb" aria-hidden="true">#</a></h3><div class="language-vhdl"><button class="copy"></button><span class="lang">vhdl</span><pre><code><span class="line"><span style="color:#89DDFF;">architecture</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">default_tb</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">of</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">mux_2x1_tb</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">is</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;">-- Declare local signals for all I/O of the entity we want to test.</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;">-- I highly suggest using the same names as the entity&#39;s port.</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">signal</span><span style="color:#A6ACCD;"> in0                </span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">std_logic</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">signal</span><span style="color:#A6ACCD;"> in1                </span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">std_logic</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">signal</span><span style="color:#A6ACCD;"> sel                </span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">std_logic</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">signal</span><span style="color:#A6ACCD;"> output_with_select </span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">std_logic</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">signal</span><span style="color:#A6ACCD;"> output_when_else   </span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">std_logic</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">signal</span><span style="color:#A6ACCD;"> output_if          </span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">std_logic</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">signal</span><span style="color:#A6ACCD;"> output_case        </span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">std_logic</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">begin</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;">-- TB</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;">-- Create an instance of each architecture, which is specified in</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;">-- parentheses. Entity instantiations will be explained more in the</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;">-- structural architecture section.</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">U_WITH_SELECT</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">entity</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">work</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">mux_2x1</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">with_select</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">port</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">map</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">            in0    </span><span style="color:#89DDFF;">=&gt;</span><span style="color:#A6ACCD;"> in0</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">            in1    </span><span style="color:#89DDFF;">=&gt;</span><span style="color:#A6ACCD;"> in1</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">            sel    </span><span style="color:#89DDFF;">=&gt;</span><span style="color:#A6ACCD;"> sel</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#FFCB6B;">output</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=&gt;</span><span style="color:#A6ACCD;"> output_with_select</span><span style="color:#89DDFF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">U_WHEN_ELSE</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">entity</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">work</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">mux_2x1</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">when_else</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">port</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">map</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">            in0    </span><span style="color:#89DDFF;">=&gt;</span><span style="color:#A6ACCD;"> in0</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">            in1    </span><span style="color:#89DDFF;">=&gt;</span><span style="color:#A6ACCD;"> in1</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">            sel    </span><span style="color:#89DDFF;">=&gt;</span><span style="color:#A6ACCD;"> sel</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#FFCB6B;">output</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=&gt;</span><span style="color:#A6ACCD;"> output_when_else</span><span style="color:#89DDFF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">U_IF</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">entity</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">work</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">mux_2x1</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">if_statement</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">port</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">map</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">            in0    </span><span style="color:#89DDFF;">=&gt;</span><span style="color:#A6ACCD;"> in0</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">            in1    </span><span style="color:#89DDFF;">=&gt;</span><span style="color:#A6ACCD;"> in1</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">            sel    </span><span style="color:#89DDFF;">=&gt;</span><span style="color:#A6ACCD;"> sel</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#FFCB6B;">output</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=&gt;</span><span style="color:#A6ACCD;"> output_if</span><span style="color:#89DDFF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">U_CASE</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">entity</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">work</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">mux_2x1</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">case_statement</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">port</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">map</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">            in0    </span><span style="color:#89DDFF;">=&gt;</span><span style="color:#A6ACCD;"> in0</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">            in1    </span><span style="color:#89DDFF;">=&gt;</span><span style="color:#A6ACCD;"> in1</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">            sel    </span><span style="color:#89DDFF;">=&gt;</span><span style="color:#A6ACCD;"> sel</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#FFCB6B;">output</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=&gt;</span><span style="color:#A6ACCD;"> output_case</span><span style="color:#89DDFF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;">-- Use a process to drive inputs of the entities. A process without</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;">-- a sensitivity list is essentially an infinite loop that starts at the</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;">-- beginning of the simulation.</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">process</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#676E95;">-- Variables will be explained in later examples, but the key difference</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#676E95;">-- from a signal is they are updated immediately, and have a scope that</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#676E95;">-- is limited to the process.</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">variable</span><span style="color:#A6ACCD;"> temp </span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">std_logic_vector</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">downto</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#676E95;">-- Define a function to act as a reference model for correct outputs.</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">function</span><span style="color:#A6ACCD;"> mux_test </span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">signal</span><span style="color:#A6ACCD;"> in0 </span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">std_logic</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">signal</span><span style="color:#A6ACCD;"> in1 </span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">std_logic</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">signal</span><span style="color:#A6ACCD;"> sel </span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">std_logic</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">std_logic</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">is</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">begin</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">sel </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">&#39;0&#39;</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">then</span></span>
<span class="line"><span style="color:#A6ACCD;">                </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> in0</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">else</span></span>
<span class="line"><span style="color:#A6ACCD;">                </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> in1</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">end</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">if;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">end</span><span style="color:#A6ACCD;"> mux_test</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">begin</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#676E95;">-- There are only 8 input combinations for a 2:1 mux, so test them all.</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">for</span><span style="color:#A6ACCD;"> i </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">to</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">7</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">loop</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#676E95;">-- Put the loop index into the 3-bit variable.</span></span>
<span class="line"><span style="color:#A6ACCD;">            temp </span><span style="color:#89DDFF;">:=</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">std_logic_vector</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">to_unsigned</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">i</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">));</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#676E95;">-- Slice into the variable to get bits for the inputs.</span></span>
<span class="line"><span style="color:#A6ACCD;">            in0  </span><span style="color:#89DDFF;">&lt;=</span><span style="color:#A6ACCD;"> temp</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">            in1  </span><span style="color:#89DDFF;">&lt;=</span><span style="color:#A6ACCD;"> temp</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">            sel  </span><span style="color:#89DDFF;">&lt;=</span><span style="color:#A6ACCD;"> temp</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">wait</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">for</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">10</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">ns</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#676E95;">-- Verify the outputs.</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#676E95;">-- This shows that string operations are pretty inconvenient in</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#676E95;">-- VHDL, which is where Verilog/SV has clear advantages.</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">assert(</span><span style="color:#A6ACCD;">output_with_select </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> mux_test</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">in0</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> in1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> sel</span><span style="color:#89DDFF;">))</span></span>
<span class="line"><span style="color:#A6ACCD;">                </span><span style="color:#89DDFF;">report</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">&quot;Error : output_with_select incorrect for in0 = &quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&amp;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">std_logic</span><span style="color:#89DDFF;">&#39;image(</span><span style="color:#A6ACCD;">in0</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&amp;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">&quot; in1 = &quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&amp;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">std_logic</span><span style="color:#89DDFF;">&#39;image(</span><span style="color:#A6ACCD;">in1</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&amp;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">&quot; sel = &quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&amp;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">std_logic</span><span style="color:#89DDFF;">&#39;image(</span><span style="color:#A6ACCD;">sel</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">severity</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">warning</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">assert(</span><span style="color:#A6ACCD;">output_when_else </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> mux_test</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">in0</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> in1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> sel</span><span style="color:#89DDFF;">))</span></span>
<span class="line"><span style="color:#A6ACCD;">                </span><span style="color:#89DDFF;">report</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">&quot;Error : output_when_else incorrect for in0 = &quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&amp;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">std_logic</span><span style="color:#89DDFF;">&#39;image(</span><span style="color:#A6ACCD;">in0</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&amp;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">&quot; in1 = &quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&amp;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">std_logic</span><span style="color:#89DDFF;">&#39;image(</span><span style="color:#A6ACCD;">in1</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&amp;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">&quot; sel = &quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&amp;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">std_logic</span><span style="color:#89DDFF;">&#39;image(</span><span style="color:#A6ACCD;">sel</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">severity</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">warning</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">assert(</span><span style="color:#A6ACCD;">output_if </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> mux_test</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">in0</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> in1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> sel</span><span style="color:#89DDFF;">))</span></span>
<span class="line"><span style="color:#A6ACCD;">                </span><span style="color:#89DDFF;">report</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">&quot;Error : output_if incorrect for in0 = &quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&amp;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">std_logic</span><span style="color:#89DDFF;">&#39;image(</span><span style="color:#A6ACCD;">in0</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&amp;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">&quot; in1 = &quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&amp;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">std_logic</span><span style="color:#89DDFF;">&#39;image(</span><span style="color:#A6ACCD;">in1</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&amp;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">&quot; sel = &quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&amp;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">std_logic</span><span style="color:#89DDFF;">&#39;image(</span><span style="color:#A6ACCD;">sel</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">severity</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">warning</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">assert(</span><span style="color:#A6ACCD;">output_case </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> mux_test</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">in0</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> in1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> sel</span><span style="color:#89DDFF;">))</span></span>
<span class="line"><span style="color:#A6ACCD;">                </span><span style="color:#89DDFF;">report</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">&quot;Error : output_case incorrect for in0 = &quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&amp;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">std_logic</span><span style="color:#89DDFF;">&#39;image(</span><span style="color:#A6ACCD;">in0</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&amp;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">&quot; in1 = &quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&amp;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">std_logic</span><span style="color:#89DDFF;">&#39;image(</span><span style="color:#A6ACCD;">in1</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&amp;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">&quot; sel = &quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&amp;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">std_logic</span><span style="color:#89DDFF;">&#39;image(</span><span style="color:#A6ACCD;">sel</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">severity</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">warning</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">end</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">loop;</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;">-- i</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">report</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">&quot;Simulation complete!!!&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#676E95;">-- The wait statement ends the infinite loop created by the process.</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">wait;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">end</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">process;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">end</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">default_tb</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div></div></div></main><!--[--><!--]--><footer class="VPDocFooter" data-v-680f4f24 data-v-a71d3a6d><div class="edit-info" data-v-a71d3a6d><div class="edit-link" data-v-a71d3a6d><a class="VPLink link edit-link-button" href="https://github.com/ARC-Lab-UF/vhdl-tutorial/edit/main/combinational/mux_2x1.md" target="_blank" rel="noreferrer" data-v-a71d3a6d data-v-97a44ddd><!--[--><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="edit-link-icon" data-v-a71d3a6d><path d="M18,23H4c-1.7,0-3-1.3-3-3V6c0-1.7,1.3-3,3-3h7c0.6,0,1,0.4,1,1s-0.4,1-1,1H4C3.4,5,3,5.4,3,6v14c0,0.6,0.4,1,1,1h14c0.6,0,1-0.4,1-1v-7c0-0.6,0.4-1,1-1s1,0.4,1,1v7C21,21.7,19.7,23,18,23z"></path><path d="M8,17c-0.3,0-0.5-0.1-0.7-0.3C7,16.5,6.9,16.1,7,15.8l1-4c0-0.2,0.1-0.3,0.3-0.5l9.5-9.5c1.2-1.2,3.2-1.2,4.4,0c1.2,1.2,1.2,3.2,0,4.4l-9.5,9.5c-0.1,0.1-0.3,0.2-0.5,0.3l-4,1C8.2,17,8.1,17,8,17zM9.9,12.5l-0.5,2.1l2.1-0.5l9.3-9.3c0.4-0.4,0.4-1.1,0-1.6c-0.4-0.4-1.2-0.4-1.6,0l0,0L9.9,12.5z M18.5,2.5L18.5,2.5L18.5,2.5z"></path></svg> View markdown source<!--]--><!----></a></div><!----></div><div class="prev-next" data-v-a71d3a6d><div class="pager" data-v-a71d3a6d><a class="pager-link prev" href="/vhdl-tutorial/combinational/README.html" data-v-a71d3a6d><span class="desc" data-v-a71d3a6d>Previous page</span><span class="title" data-v-a71d3a6d>Introduction</span></a></div><div class="has-prev pager" data-v-a71d3a6d><a class="pager-link next" href="/vhdl-tutorial/combinational/priority_encoder_4in.html" data-v-a71d3a6d><span class="desc" data-v-a71d3a6d>Next page</span><span class="title" data-v-a71d3a6d>4-input Priority Encoder</span></a></div></div></footer><!--[--><!--]--></div></div></div></div></div><footer class="VPFooter has-sidebar" data-v-3ff9331b data-v-13fad65a><div class="container" data-v-13fad65a><p class="message" data-v-13fad65a>Released under GNU GENERAL PUBLIC LICENSE.</p><p class="copyright" data-v-13fad65a>Copyright © 2022-present Greg Stitt</p></div></footer><!--[--><!--]--></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"readme.md\":\"d61202f3\",\"combinational_readme.md\":\"cf96f5c5\",\"combinational_add.md\":\"505a4975\",\"combinational_alu.md\":\"79cf928d\",\"combinational_mult.md\":\"ee1aee86\",\"combinational_mux_2x1.md\":\"add17af1\",\"combinational_priority_encoder.md\":\"a694e0b6\",\"combinational_priority_encoder_4in.md\":\"a477e7cd\",\"fsm_readme.md\":\"01e02301\",\"fsm_mealy.md\":\"5a93bb0d\",\"fsm_moore.md\":\"d1bd4d5f\",\"fsmd_readme.md\":\"707d1700\",\"fsmd_bit_diff.md\":\"b38a074e\",\"index.md\":\"cd1952cf\",\"manual.md\":\"cc77e910\",\"sequential_readme.md\":\"f70acce7\",\"sequential_counter.md\":\"899ad950\",\"sequential_delay.md\":\"e0e1874e\",\"sequential_reg.md\":\"2a843a25\",\"sequential_seq_example.md\":\"66231f08\",\"structural_readme.md\":\"9b872768\",\"structural_delay.md\":\"2a93abf9\",\"structural_mux4x1.md\":\"0302fab9\",\"structural_ripple_carry_adder.md\":\"1c3ab588\"}")</script>
    <script type="module" async src="/vhdl-tutorial/assets/app.5caad1d2.js"></script>
    
  </body>
</html>